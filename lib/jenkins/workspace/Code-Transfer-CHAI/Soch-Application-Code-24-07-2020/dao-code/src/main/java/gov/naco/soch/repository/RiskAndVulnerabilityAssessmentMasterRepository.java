package gov.naco.soch.repository;

import org.springframework.data.jpa.repository.JpaRepository;
import org.springframework.data.jpa.repository.Query;

import gov.naco.soch.entity.RiskAndVulnerabilityAssessmentMaster;

public interface RiskAndVulnerabilityAssessmentMasterRepository
		extends JpaRepository<RiskAndVulnerabilityAssessmentMaster, Long> {

	@Query(value="select count(id) from RiskAndVulnerabilityAssessmentMaster rva where LOWER(rva.riskAndVulnerabilityAssessmentName) = LOWER(?1) and id!=?2")
	int existsByRiskAndVulnerabilityAssessmentNameInEdit(String riskAndVulnerabilityAssessmentName, Long id);

	@Query(value="select count(id) from RiskAndVulnerabilityAssessmentMaster rva where LOWER(rva.riskAndVulnerabilityAssessmentName) = LOWER(?1)")
	int existsByRiskAndVulnerabilityAssessmentNameInAdd(String riskAndVulnerabilityAssessmentName);
}
